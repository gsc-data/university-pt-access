(this["webpackJsonpuniversity-pt-access"]=this["webpackJsonpuniversity-pt-access"]||[]).push([[0],{104:function(e,t){},119:function(e){e.exports=JSON.parse('{"labels":["Greater Sydney","Western City","Central City","Eastern City","North","South"],"datasets":[{"label":"15 minutes","data":[15.19255801666415,7.329238066640541,3.851441690863664,42.00651854863816,10.82517077119121,1.537543402777778]},{"label":"30 minutes","data":[57.66104377800171,41.25463771140075,42.65811330947397,87.86359756962754,65.20068691310222,39.51569733796296]},{"label":"45 minutes","data":[89.36664742187217,74.49322347025503,89.87237490715106,99.1787221696305,88.45893014378142,94.2726417824074]},{"label":"60 minutes","data":[95.57639579795948,83.90835017074922,98.55898440137754,99.99788221291807,96.41995766952698,99.49978298611111]}]}')},180:function(e,t,n){},181:function(e,t,n){},183:function(e,t,n){},204:function(e,t){},208:function(e,t,n){"use strict";n.r(t);var i=n(8),a=n.n(i),r=n(131),s=n.n(r),c=(n(180),n(181),n(13)),o=n(2),l=n(136),d=n(119),u=n(169),b=n(27);l.b.register(u.a);var h={15:[102,194,165],30:[252,141,98],45:[141,160,203],60:[231,138,195]},p={};for(var g in h)p[g]="rgba(".concat(h[g].join(),",1)");var j={};for(var m in h)j[m]="rgba(".concat(h[m].join(),",0.9)");d.datasets=d.datasets.map((function(e){var t=e.label.split(" ")[0];return console.log(t),Object(o.a)(Object(o.a)({},e),{},{label:"".concat(e.label," (%)"),backgroundColor:j[t],borderColor:p[t],borderWidth:1})}));var f={indexAxis:"y",maintainAspectRatio:!1,elements:{bar:{borderWidth:1}},responsive:!0,scales:{x:{ticks:{callback:function(e,t,n){return e+"%"}}},yAxes:{ticks:{font:{weight:function(e){return"Greater Sydney"===e.tick.label?"bold":"normal"}}}}},plugins:{datalabels:{formatter:function(e,t){return e>10?Math.round(e,0)+"%":""},anchor:"end",align:"start",font:{size:"8px",weight:"bold"},color:function(e){var t=e.dataset.backgroundColor,n=t.slice(5,t.length-5).split(",").map((function(e){return parseInt(e)})),i=Object(c.a)(n,3),a=i[0],r=i[1],s=i[2];return"rgb(".concat(Math.round(.5*a,0),",").concat(Math.round(.5*r,0),",").concat(Math.round(.5*s,0),")")}},legend:{position:"right",display:!1},title:{display:!1,text:" metres access to open space"}}},y=function(){return Object(b.jsx)("div",{style:{height:"400px"},children:Object(b.jsx)(l.a,{data:d,options:f})})},x=(n(183),function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{id:"legend",style:{fontFamily:"Roboto, sans-serif"},children:[Object(b.jsx)("h4",{children:" LEGEND"}),Object(b.jsx)("div",{className:"legend-content",children:Object.keys(h).map((function(e){return Object(b.jsxs)("li",{children:[" ",Object(b.jsx)("div",{className:"circle",style:{backgroundColor:"rgba(".concat(h[e].join(),")")}}),e," minutes catchment"]})}))})]})})}),v=function(){return Object(b.jsxs)("div",{className:"layer-selector",style:{fontFamily:"Roboto, sans-serif"},children:[Object(b.jsx)("h3",{children:" University accessibility by public transport and walking"}),Object(b.jsx)("p",{style:{fontSize:"12px",color:"gray",lineHeight:"1.4em"},children:"The area with at least one trip between 7:00 am to 9:00am on a weekday (Tuesday, 08/06/2021) to its nearest university is considered to have access to universities."}),Object(b.jsx)(x,{}),Object(b.jsx)("div",{style:{marginTop:"10px",fontSize:"small"},children:Object(b.jsx)("b",{children:"% of dwellings that have access to university"})}),Object(b.jsx)(y,{}),Object(b.jsx)("div",{children:Object(b.jsx)("span",{style:{fontSize:"8px"},children:"Source: GSC Analysis 2021,TfNSW, DoE,DPIE, ABS 2016"})}),Object(b.jsxs)("p",{style:{fontSize:"8px",color:"gray",lineHeight:"1.1em"},children:["Disclaimer: The university location data which is sourced from ",Object(b.jsx)("a",{href:"https://data.nsw.gov.au/search/dataset/ds-nsw-ckan-0d43537e-429a-4a71-8d12-92d2d45eccd0/details?q=university",children:"DoE"})," has not included some of the most recent universities. The missing universities are indentified and added manually but some might still be missing."]}),Object(b.jsxs)("span",{style:{fontSize:"10px",color:"gray",lineHeight:"1.1em"},children:["Please contact ",Object(b.jsx)("a",{href:"mailto: data@gsc.nsw.gov.au",children:"data@gsc.nsw.gov.au"})," for more info"]})]})},O=n(17),w=n(12),S=n.n(w),k=n(19),C=n(75),_=n(225),T=n(24),E=n(224),N=n(167),z=n(164),M=n(226),I=n(158),P=n.n(I),A={latitude:-33.878197,longitude:151.148648,zoom:10};Object(C.d)({username:"gsc-admin",apiKey:"default_public"});var F=function(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1],r="SELECT ST_X(ST_Centroid(the_geom)) x, ST_Y(ST_CENTROID(the_geom)) y,district from districtboundary";Object(i.useEffect)((function(){(function(){var e=Object(k.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("https://gsc-admin.carto.com/api/v2/sql?q=".concat(encodeURIComponent(r)));case 2:return t=e.sent,a(t.data.rows.map((function(e){e.district,e.x,e.y;return{text:e.district,position:[e.x,e.y]}}))),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),console.log("laoding..");var s=new N.a({id:"text-layer",data:n,pickable:!1,sizeMinPixels:2,sizeMaxPixels:15,getSize:20,getAngle:0,getTextAnchor:"middle",getAlignmentBaseline:"center",getBackgroundColor:[255,255,255]}),o=new _.a({id:"access-uni",type:T.f.QUERY,data:"select the_geom_webmercator, tobreak from serviceareapolygons_rings_universities",getFillColor:function(e){return[].concat(Object(O.a)(h[e.properties.tobreak]),[210])},getLineColor:function(e){return h[e.properties.tobreak]},lineWidthMinPixels:.1,pickable:!1}),l=new _.a({id:"university",type:T.f.QUERY,data:"select the_geom_webmercator, university_campus_name as uni_name from universities",getFillColor:[0,0,0],getLineColor:[255,255,255],lineWidthMinPixels:1,pointRadiusMinPixels:6,pickable:!0}),d=new _.a({id:"district",type:T.f.QUERY,data:'select the_geom_webmercator, district from "gsc-admin".districtboundary ',getFillColor:[0,0,0,0],getLineColor:[35,35,35],lineWidthMinPixels:1.2,pickable:!1});return Object(b.jsx)("div",{children:Object(b.jsx)(M.a,{width:"100%",height:"100%",initialViewState:A,getTooltip:function(e){var t=e.object;if(!t)return!1;var n=t.properties,i=(n.district,n.uni_name);return{html:"<div>University: ".concat(i,"</div>"),style:{fontSize:"0.8em"}}},controller:!0,layers:[o,d,l,s],children:Object(b.jsx)(z.a,{reuseMaps:!0,mapStyle:E.a.PRISTON,mapboxApiAccessToken:"pk.eyJ1IjoiYnNuYXlhbiIsImEiOiJja3Ewczd3MW4wN3Z3MnVvNDNsenlzNnFsIn0.f8nk8yrxIeCKOlzIy1b-Pg",preventStyleDiffing:!0})})})};var R=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(F,{}),Object(b.jsx)(v,{})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(R,{})}),document.getElementById("root")),D()}},[[208,1,2]]]);
//# sourceMappingURL=main.125cb6de.chunk.js.map